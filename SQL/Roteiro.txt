# Roteiro para chegar no mesmo banco de dados que eu (Dan) cheguei na minha máquina
# 
# Primeiro eu baixei os arquivos na página 
# http://portal.convenios.gov.br/download-de-dados
# 
# Daí, descompactei o zip. Em bash (terminal Linux fica assim)

wget "http://plataformamaisbrasil.gov.br/images/docs/CGSIS/csv/siconv.zip"
unzip "siconv.zip"
rm *".zip"

# Com esses arquivos disponibilizados, criei o schema com as 22 tabelas do SICONV
# 

rodar o "create_schema.sql" dentro da pasta SQL

# Com as tabelas criadas, pode-se rechear elas com o conteudo do jeito que vem do SICONV 

rodar o "insert.sql" dentro da pasta SQL

# Com as tabelas recheadas, todos os recursos base estão no banco de dados
#
# Fora isso, tem duas tabelas (informações extras) que foram solicitadas:
# -> Partido (na tabela de emenda tem o nome, mas não tem o partido dos congressistas)
# -> Função orçamentária (informação de classificação da função orçamentaria)
#  (esse de função orçamentária ainda não está funcionando)

rode o create_congressistas.sql

não precisa rodar o create_funcao_orcamentaria.sql por que ele não funciona ainda

# Agora sobre as views

Pode rodar em ordem, do 00 até o 07

Daí a view tabelao vai ter o tabelao principal e a view instrumentos tem um recorde da view tabelao
O informe é principalmente em cima da instrumentos, com apenas as propostas que viraram um instrumento
celebrado, gerando um compromisso entre o governo federal e algum ente

# Query importante para olhar o que que tem no tabelao é basicamente as colunas que vão para a aplicação
# Na aplicação provavelmente boa parte dessas colunas não 
select *
from siconv.tabelao 
limit 30

# O arquico export gera as tabelas
